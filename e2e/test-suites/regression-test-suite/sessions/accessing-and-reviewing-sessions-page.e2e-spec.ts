import { StepLogger } from '../../../../core/logger/step-logger';
import { PageHelper } from '../../../components/html/page-helper';
import { Constants } from '../../../components/misc-utils/constants';
import { HomePageHelper } from '../../../page-objects/pages/home-page/home-page.helper';
import { HomePage1Helper } from '../../../page-objects/pages/home-page/home-page1.helper';
import { LoginPageHelper } from '../../../page-objects/pages/login-page/login-page.helper';
import { SessionsPageConstant } from '../../../page-objects/pages/sessions-page/sessions-page.constants';
import { SessionsPageHelper } from '../../../page-objects/pages/sessions-page/sessions-page.helper';
import { SuiteNames } from '../../helpers/suite-names';

describe(SuiteNames.regressionSuite, () => {
    let loginPageHelper: LoginPageHelper;

    beforeAll(async () => {
        loginPageHelper = LoginPageHelper.getInstance();
        await PageHelper.maximiseBrowser();
    });

    beforeEach(async () => {
        await PageHelper.restartBrowser();
        await loginPageHelper.goTo();
        await LoginPageHelper.loginAsAdmin();
        await PageHelper.switchToFirstTab();
    });

    // Jira References - COTRAC-4034
    it('Verify if user shall be able to sort the Details grid data by User column - [22937023]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:00 GMT

        StepLogger.caseId = 22937023;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click on Details tab.');
        await SessionsPageHelper.clickOnDetailsTab();
        StepLogger.verification('Should display the Session Details screen.');
        await SessionsPageHelper.verifyDetailsSelectedDisplay();

        StepLogger.stepId(6);
        StepLogger.step('Select "Show log in list view" option in the filter.');
        await SessionsPageHelper.selectLogInListView();
        StepLogger.verification('Should load the grid data in a list view.');
        await SessionsPageHelper.verifyListViewDataGridDisplayed();

        StepLogger.stepId(7);
        StepLogger.step('click on User column.');
        await SessionsPageHelper.clickOnUserColumn();
        StepLogger.verification('Should sort the grid data ascending by User properly.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.user);

        StepLogger.stepId(8);
        StepLogger.step('Click on User column one more time.');
        await SessionsPageHelper.clickOnUserColumn();
        StepLogger.verification('Should sort the grid data descending by User properly.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.user);
    });

    // Jira References - COTRAC-4033
    it('Verify if user shall be able to sort the Details grid data by Entry column - [22937022]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:00 GMT

        StepLogger.caseId = 22937022;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click on Details tab.');
        await SessionsPageHelper.clickOnDetailsTab();
        StepLogger.verification('Should display the Session Details screen.');
        await SessionsPageHelper.verifyDetailsSelectedDisplay();

        StepLogger.stepId(6);
        StepLogger.step('Select "Show log in list view" option in the filter.');
        await SessionsPageHelper.selectLogInListView();
        StepLogger.verification('Should load the grid data in a list view.');
        await SessionsPageHelper.verifyListViewDataGridDisplayed();

        StepLogger.stepId(7);
        StepLogger.step('click on Entry column.');
        await SessionsPageHelper.clickOnEntryColumn();
        StepLogger.verification('Should sort the grid data ascending by Entry properly.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.entry);

        StepLogger.stepId(8);
        StepLogger.step('Click on Entry column one more time.');
        await SessionsPageHelper.clickOnEntryColumn();
        StepLogger.verification('Should sort the grid data descending by Entry properly.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.entry);
    });

    // Jira References - COTRAC-4032
    it('Verify if user shall be able to sort the Details grid data by Date column - [22937021]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:00 GMT

        StepLogger.caseId = 22937021;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click on Details tab.');
        await SessionsPageHelper.clickOnDetailsTab();
        StepLogger.verification('Should display the Session Details screen.');
        await SessionsPageHelper.verifyDetailsSelectedDisplay();

        StepLogger.stepId(6);
        StepLogger.step('Select "Show log in list view" option in the filter.');
        await SessionsPageHelper.selectLogInListView();
        StepLogger.verification('Should load the grid data in a list view.');
        await SessionsPageHelper.verifyListViewDataGridDisplayed();

        StepLogger.stepId(7);
        StepLogger.step('click on Date column.');
        await SessionsPageHelper.clickTwiceDateColumnToResetTheDefaultOrder();
        await SessionsPageHelper.clickOnDateColumn();
        StepLogger.verification('Should sort the grid data ascending by Date properly.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.date);

        StepLogger.stepId(8);
        StepLogger.step('Click on Date column one more time.');
        await SessionsPageHelper.clickOnDateColumn();
        StepLogger.verification('Should sort the grid data descending by Date properly.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.date);
    });

    // Jira References - COTRAC-4018
    it('Verify if user shall be able to sort the grid data by Started column - [22937004]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:01 GMT

        StepLogger.caseId = 22937004;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Click on Started column.');
        await SessionsPageHelper.clickOnStartedColumn();
        StepLogger.verification('Should load the grid data sorted ascending by Started.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.started);

        StepLogger.stepId(5);
        StepLogger.step('Click on Started column one more time.');
        await SessionsPageHelper.clickOnStartedColumn();
        StepLogger.verification('Should load the grid data sorted descending by Started.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.started);
    });

    // Jira References - COTRAC-4025
    it('Verify if user shall be able to access the Session Summary screen - [22937009]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:01 GMT

        StepLogger.caseId = 22937009;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();
    });

    // Jira References - COTRAC-4030
    it('Verify if user shall be able to filter Details screen data by "Show log in read view" option - [22937017]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:01 GMT

        StepLogger.caseId = 22937017;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click on Details tab.');
        await SessionsPageHelper.clickOnDetailsTab();
        StepLogger.verification('Should display the Session Details screen.');
        await SessionsPageHelper.verifyDetailsSelectedDisplay();

        StepLogger.stepId(6);
        StepLogger.step('Select "Show log in read view" option in the filter.');
        await SessionsPageHelper.selectLogInReadView();
        StepLogger.verification('Should load the grid data in read view.');
        await SessionsPageHelper.verifyListViewDataGridDisplayed();
    });

    // Jira References - COTRAC-4037
    it('Verify if user shall be able to close the Session Details screen clicking on Close button - [22937026]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:02 GMT

        StepLogger.caseId = 22937026;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click on Details tab.');
        await SessionsPageHelper.clickOnDetailsTab();
        StepLogger.verification('Should display the Session Details screen.');
        await SessionsPageHelper.verifyDetailsSelectedDisplay();

        StepLogger.stepId(6);
        StepLogger.step('Click on Close button.');
        await SessionsPageHelper.clickOnCloseButton();
        StepLogger.verification('Should close the Details tab properly.');
        await SessionsPageHelper.verifyTabClosed(Constants.number.one);
    });

    // Jira References - COTRAC-4028
    it('Verify if user shall be able to access the Session Details screen - [22937014]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:02 GMT

        StepLogger.caseId = 22937014;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click on Details tab.');
        await SessionsPageHelper.clickOnDetailsTab();
        StepLogger.verification('Should display the Session Details screen.');
        await SessionsPageHelper.verifyDetailsSelectedDisplay();
    });

    // Jira References - COTRAC-4013
    it('Verify if user shall be able to access the Sessions screen - [22936982]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:02 GMT

        StepLogger.caseId = 22936982;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();
    });

    // Jira References - COTRAC-4023
    it('Verify if user shall be able to sort the grid data by Expires column - [22937005]', async () => {
        // Auto generated by aurea-automation - util on Tue, 02 Apr 2019 18:18:03 GMT

        StepLogger.caseId = 22937005;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Click on Expires column.');
        await SessionsPageHelper.clickOnExpiresColumn();
        StepLogger.verification('Should load the grid data sorted ascending by Expires.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.expires);

        StepLogger.stepId(5);
        StepLogger.step('Click on Expires column one more time.');
        await SessionsPageHelper.clickOnExpiresColumn();
        StepLogger.verification('Should load the grid data sorted descending by Expires.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.expires);
    });
});
