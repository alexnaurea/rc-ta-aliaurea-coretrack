import { StepLogger } from '../../../../core/logger/step-logger';
import { PageHelper } from '../../../components/html/page-helper';
import { Constants } from '../../../components/misc-utils/constants';
import { HomePageHelper } from '../../../page-objects/pages/home-page/home-page.helper';
import { HomePage1Helper } from '../../../page-objects/pages/home-page/home-page1.helper';
import { LoginPageHelper } from '../../../page-objects/pages/login-page/login-page.helper';
import { SessionsPageConstant } from '../../../page-objects/pages/sessions-page/sessions-page.constants';
import { SessionsPageHelper } from '../../../page-objects/pages/sessions-page/sessions-page.helper';
import { SuiteNames } from '../../helpers/suite-names';

describe(SuiteNames.regressionSuite, () => {
    let loginPageHelper: LoginPageHelper;

    beforeAll(async () => {
        loginPageHelper = LoginPageHelper.getInstance();
        await PageHelper.maximiseBrowser();
    });

    beforeEach(async () => {
        await PageHelper.restartBrowser();
        await loginPageHelper.goTo();
        await LoginPageHelper.loginAsAdmin();
        await PageHelper.switchToFirstTab();
    });

    // Jira References - COTRAC-4035
    it('Verify if user shall be able to sort the Details grid data by Description column - [22937024]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 23:20:22 GMT

        StepLogger.caseId = 22937024;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click on Details tab.');
        await SessionsPageHelper.clickOnDetailsTab();
        StepLogger.verification('Should display the Session Details screen.');
        await SessionsPageHelper.verifyDetailsSelectedDisplay();

        StepLogger.stepId(6);
        StepLogger.step('Select "Show log in list view" option in the filter.');
        await SessionsPageHelper.selectLogInListView();
        StepLogger.verification('Should load the grid data in a list view.');
        await SessionsPageHelper.verifyListViewDataGridDisplayed();

        StepLogger.stepId(7);
        StepLogger.step('click on Description column.');
        await SessionsPageHelper.clickOnDescriptionColumn();
        StepLogger.verification('Should sort the grid data ascending by Description properly.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.description);

        StepLogger.stepId(8);
        StepLogger.step('Click on Description column one more time.');
        await SessionsPageHelper.clickOnDescriptionColumn();
        StepLogger.verification('Should sort the grid data descending by Description properly.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.description);
    });

    // Jira References - COTRAC-4017
    it('Verify if user shall be able to sort the grid data by Status column - [22937003]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 23:20:22 GMT

        StepLogger.caseId = 22937003;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Click on Status column.');
        await SessionsPageHelper.clickOnStatusColumn();
        StepLogger.verification('Should load the grid data sorted ascending by Status.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.status);

        StepLogger.stepId(5);
        StepLogger.step('Click on Status column one more time.');
        await SessionsPageHelper.clickOnStatusColumn();
        StepLogger.verification('Should load the grid data sorted descending by Status.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.status);
    });

    // Jira References - COTRAC-4029
    it('Verify if user shall be able to filter Details screen data by "Show log in list view" option - [22937016]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 23:20:22 GMT

        StepLogger.caseId = 22937016;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click on Details tab.');
        await SessionsPageHelper.clickOnDetailsTab();
        StepLogger.verification('Should display the Session Details screen.');
        await SessionsPageHelper.verifyDetailsSelectedDisplay();

        StepLogger.stepId(6);
        StepLogger.step('Select "Show log in list view" option in the filter.');
        await SessionsPageHelper.selectLogInListView();
        StepLogger.verification('Should load the grid data in list view.');
        await SessionsPageHelper.verifyListViewDataGridDisplayed();
    });

    // Jira References - COTRAC-4019
    it('Verify if user shall be able to refresh the Sessions page clicking on Refresh button - [22936986]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 23:20:23 GMT

        StepLogger.caseId = 22936986;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Click on Refresh button.');
        await SessionsPageHelper.clickOnRefreshButton();
        StepLogger.verification('Should reload the screen properly.');
        // This action is not verifiable
    });

    // Jira References - COTRAC-4024
    it('Verify if user shall be able to sort the grid data by Last Accessed column - [22937007]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 23:20:23 GMT

        StepLogger.caseId = 22937007;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Click on Last Accessed column.');
        await SessionsPageHelper.clickOnLastAccessedColumn();
        StepLogger.verification('Should load the grid data sorted ascending by Last Accessed.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.lastAccessed);

        StepLogger.stepId(5);
        StepLogger.step('Click on Last Accessed column one more time.');
        await SessionsPageHelper.clickOnLastAccessedColumn();
        StepLogger.verification('Should load the grid data sorted descending by Last Accessed.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.lastAccessed);
    });

    // Jira References - COTRAC-4026
    it('Verify if user shall be able to close the Session Summary screen clicking on Close button - [22937011]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 23:20:23 GMT

        StepLogger.caseId = 22937011;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on any Session in the list.');
        await SessionsPageHelper.clickOnAUserIcon();
        StepLogger.verification('Should display the Session Details in a new tab.');
        await SessionsPageHelper.verifySessionDetailsPageDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click on Close button.');
        await SessionsPageHelper.clickOnCloseButton();
        StepLogger.verification('Should close the Session Details tab properly.');
        await SessionsPageHelper.verifyTabClosed(Constants.number.one);
    });

    // Jira References - COTRAC-4015
    it('Verify if user shall be able to sort the grid data by User column - [22937000]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 23:20:23 GMT

        StepLogger.caseId = 22937000;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Click on User column.');
        await SessionsPageHelper.clickOnUserColumn();
        StepLogger.verification('Should load the grid data sorted ascending by Users.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.user);

        StepLogger.stepId(5);
        StepLogger.step('Click on User column one more time.');
        await SessionsPageHelper.clickOnUserColumn();
        StepLogger.verification('Should load the grid data sorted descending by Users.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.user);
    });

    // Jira References - COTRAC-4014
    it('Verify if user shall be able to filter the grid data by Role - [22936989]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 23:20:24 GMT

        StepLogger.caseId = 22936989;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Select Role option in the filter.');
        await SessionsPageHelper.filterByRole();
        StepLogger.verification('Should load the grid data by Role properly.');
        // This step is not verifiable
    });

    // Jira References - COTRAC-4016
    it('Verify if user shall be able to sort the grid data by IP column - [22937002]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 23:20:24 GMT

        StepLogger.caseId = 22937002;
        StepLogger.stepId(1);
        StepLogger.step('Click on Administration menu button.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Should display the Administration menu items list properly.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click on System menu button under the Administration menu list.');
        await HomePage1Helper.clickSystemUnderAdministration();
        StepLogger.verification(`Should display the System sub-menu list properly with:
        -Application Status
        -Processing Log
        -Sessions
        -Unmatched`);
        await HomePage1Helper.verifyOptionsUnderSystem();

        StepLogger.stepId(3);
        StepLogger.step('Click on Sessions sub-menu item.');
        await HomePage1Helper.clickSessionUnderAdministration();
        StepLogger.verification('Should display the Sessions screen properly.');
        await SessionsPageHelper.verifySessionsPageIsDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Click on IP column.');
        await SessionsPageHelper.clickOnIpColumn();
        StepLogger.verification('Should load the grid data sorted ascending by IPs.');
        await SessionsPageHelper.verifyColumSortedAsc(SessionsPageConstant.sessionColumns.ip);

        StepLogger.stepId(5);
        StepLogger.step('Click on IP column one more time.');
        await SessionsPageHelper.clickOnIpColumn();
        StepLogger.verification('Should load the grid data sorted descending by IPs.');
        await SessionsPageHelper.verifyColumSortedDesc(SessionsPageConstant.sessionColumns.ip);
    });
});
