import { StepLogger } from '../../../../core/logger/step-logger';
import { PageHelper } from '../../../components/html/page-helper';
import { LoginPageHelper } from '../../../page-objects/pages/login-page/login-page.helper';
import { NewCasePageConstant } from '../../../page-objects/pages/new-case-page/new-case-page.constants';
import { NewCasePageHelper } from '../../../page-objects/pages/new-case-page/new-case-page.helper';
import { SuiteNames } from '../../helpers/suite-names';

describe(SuiteNames.regressionSuite, () => {
    let loginPageHelper: LoginPageHelper;

    beforeAll(async () => {
        loginPageHelper = LoginPageHelper.getInstance();
        await PageHelper.maximiseBrowser();
    });

    beforeEach(async () => {
        await PageHelper.restartBrowser();
        await loginPageHelper.goTo();
        await LoginPageHelper.loginAsAdmin();
    });

    // Jira References - COTRAC-3451
    it('Verify if user shall be able to access the Reviewing Cases screen properly - [22411389]', async () => {
        // Auto generated by aurea-automation - util on Tue, 26 Mar 2019 11:24:47 GMT
        StepLogger.caseId = 22411389;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name);
    });

    // Jira References - COTRAC-3456
    it('Verify if Reviewing Cases Header screen is displaying properly - [22411393]', async () => {
        // Auto generated by aurea-automation - util on Tue, 26 Mar 2019 13:57:19 GMT
        StepLogger.caseId = 22411393;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Check the Header page.');
        StepLogger.verification(`Should display the items:
            -Menu
            -Case ID + Name
            -Save button
            -Save+ button
            -Close button`);
        await NewCasePageHelper.verifyHeaderItems(text.name, text.id);
    });

    // Jira References - COTRAC-3452
    it('Verify if user shall be able to access the Overview tab - [22411396]', async () => {
        // Auto generated by aurea-automation - util on Tue, 26 Mar 2019 15:26:08 GMT
        StepLogger.caseId = 22411396;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Click on Overview Tab.');
        await NewCasePageHelper.clickOverviewTab();
        StepLogger.verification('Should display the Overview screen properly.');
        await NewCasePageHelper.verifyTabDisplayed(NewCasePageConstant.leftPanel.overview);
    });

    // Jira References - COTRAC-3453
    it('Verify if user shall be able to access the Log tab - [22411397]', async () => {
        // Auto generated by aurea-automation - util on Tue, 26 Mar 2019 15:39:56 GMT
        StepLogger.caseId = 22411397;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Click on LOG tab.');
        await NewCasePageHelper.clickLogTab();
        StepLogger.verification('Should display the Tab screen properly.');
        await NewCasePageHelper.verifyTabDisplayed(NewCasePageConstant.leftPanel.log);
    });

    // Jira References - COTRAC-3454
    it('Verify if user shall be able to access the Notes tab - [22411398]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 07:59:27 GMT
        StepLogger.caseId = 22411398;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Click on Notes tab.');
        await NewCasePageHelper.clickNotesTab();
        StepLogger.verification('Should display the Notes screen properly.');
        await NewCasePageHelper.verifyTabDisplayed(NewCasePageConstant.leftPanel.notes);
    });

    // Jira References - COTRAC-3455
    it('Verify if user shall be able to access the Events tab - [22411399]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 08:01:50 GMT
        StepLogger.caseId = 22411399;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Click on Events tab.');
        await NewCasePageHelper.clickEventsTab();
        StepLogger.verification('Should display the events screen properly.');
        await NewCasePageHelper.verifyTabDisplayed(NewCasePageConstant.leftPanel.events);
    });

    // Jira References - COTRAC-3457
    it('Verify if user shall be able to access the Tasks tab - [22411400]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 08:04:27 GMT
        StepLogger.caseId = 22411400;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Click on Tasks tab.');
        await NewCasePageHelper.clickTasksTab();
        StepLogger.verification('Should display the Tab screen properly.');
        await NewCasePageHelper.verifyTabDisplayed(NewCasePageConstant.leftPanel.tasks);
    });

    // Jira References - COTRAC-3458
    it('Verify if user shall be able to access the Attachments tab - [22411401]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 08:06:49 GMT
        StepLogger.caseId = 22411401;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Click on Attachments tab.');
        await NewCasePageHelper.clickAttachmentsTab();
        StepLogger.verification('Should display the Attachments screen properly.');
        await NewCasePageHelper.verifyTabDisplayed(NewCasePageConstant.leftPanel.attachments);
    });

    // Jira References - COTRAC-3459
    it('Verify if user shall be able to see the Mandatory fields properly - [22411402]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 08:14:41 GMT
        StepLogger.caseId = 22411402;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Check the Mandatory fields in Overview default page.');
        StepLogger.verification(`Should display the mandatory fields properly:
            -ONWER + Sub Field
            -CONTACT
            -SUBJECT
            -DESCRIPTION
            -CATEGORY
            -PRIORITY
            -STATUS`);
        await NewCasePageHelper.verifyCaseDataMandatoryFields();
    });

    // Jira References - COTRAC-3460
    it('Verify if user shall be able to see Search fields properly - [22411404]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 08:31:44 GMT
        StepLogger.caseId = 22411404;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Check the search fields in the screen.');
        StepLogger.verification(`Should display the search fields properly.
            -Search Users
            -Search Contact
            -Search Account`);
        await NewCasePageHelper.verifyCaseDataSearchFields();
    });

    // Jira References - COTRAC-3461
    it('Verify if user shall be able to see the Privacy By Dept. toggle button properly - [22411406]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 08:58:00 GMT
        StepLogger.caseId = 22411406;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Check the toggle button on screen.');
        StepLogger.verification('Should display the toggle button properly.');
        await NewCasePageHelper.verifyPrivateDeptButton();
    });

    // Jira References - COTRAC-3465
    it('Verify if user shall be able to see the Description Text Area tools properly - [22411408]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 09:16:03 GMT
        StepLogger.caseId = 22411408;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Check the Text Area on screen.');
        StepLogger.verification('Should display the Text Area properly.');
        await NewCasePageHelper.verifyDescriptionArea();
    });

    // Jira References - COTRAC-3464
    it('Verify if user shall be able to see the Drop Down List fields properly - [22411410]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 09:25:43 GMT
        StepLogger.caseId = 22411410;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Check the drop down list fields.');
        StepLogger.verification('Should display the drop down list fields properly.');
        await NewCasePageHelper.verifyDropdownFields();
    });

    // Jira References - COTRAC-3463
    it('Verify if user shall be able to see the Date Picker calendar properly - [22411412]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 09:31:09 GMT
        StepLogger.caseId = 22411412;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Check the Date Picker calendar.');
        await NewCasePageHelper.clickCommittedCalendar();
        StepLogger.verification('Should display the calendar properly.');
        await NewCasePageHelper.verifyDatePickerCalendar();
    });

    // Jira References - COTRAC-3462
    it('Verify if Menu options is displaying properly - [22412247]', async () => {
        // Auto generated by aurea-automation - util on Wed, 27 Mar 2019 09:43:54 GMT
        StepLogger.caseId = 22412247;

        StepLogger.stepId(1);
        StepLogger.step('Select Cases in the Search options drop down list.');
        await NewCasePageHelper.selectCasesInSearch();
        StepLogger.verification('Case option should be selected properly.');
        await NewCasePageHelper.verifyCasesSelectedInSearch();

        StepLogger.stepId(2);
        StepLogger.step('Search for the text "QA_" in the search field.');
        await NewCasePageHelper.enterSearchText(NewCasePageConstant.elementNames.qa);
        StepLogger.verification('Should display the list of cases properly.');
        await NewCasePageHelper.verifyCasesListDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Click on any card.');
        const text = await NewCasePageHelper.clickFirstCard();
        StepLogger.verification('Should open the Reviewing Cases screen properly.');
        await NewCasePageHelper.verifyReviewCasePageDisplayed(text.name, false);

        StepLogger.stepId(4);
        StepLogger.step('Click on Menu button.');
        await NewCasePageHelper.clickMenuButton();
        StepLogger.verification(`Should display the options properly.
            -Copy Link to Page
            -Email Link to Page
            -History`);
        await NewCasePageHelper.verifyMenuOptions();
    });
});
