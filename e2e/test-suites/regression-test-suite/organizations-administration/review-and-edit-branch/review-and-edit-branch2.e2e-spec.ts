import { StepLogger } from '../../../../../core/logger/step-logger';
import { PageHelper } from '../../../../components/html/page-helper';
import { BranchesHelper } from '../../../../page-objects/pages/administration/organization/branches/branches.helper';
import { HomePageHelper } from '../../../../page-objects/pages/home-page/home-page.helper';
import { HomePage1Helper } from '../../../../page-objects/pages/home-page/home-page1.helper';
import { LoginPageHelper } from '../../../../page-objects/pages/login-page/login-page.helper';
import { SuiteNames } from '../../../helpers/suite-names';

describe(SuiteNames.regressionSuite, () => {
    let loginPageHelper: LoginPageHelper;

    beforeAll(async () => {
        loginPageHelper = LoginPageHelper.getInstance();
        await PageHelper.maximiseBrowser();
    });

    beforeEach(async () => {
        await loginPageHelper.goTo();
        await LoginPageHelper.loginAsAdmin();
    });

    it('To verify that the user is able to navigate to Manage Branches page - [22442960]', async () => {
        // Auto generated by aurea-automation - util on Fri, 05 Apr 2019 01:49:00 GMT

        StepLogger.caseId = 22442960;
        StepLogger.stepId(1);
        StepLogger.step('Click "Administration" link displayed in the left panel.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Option available under administration section should be displayed.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click "Organization" displayed under administration.');
        await HomePageHelper.clickOrganizationUnderAdministration();
        StepLogger.verification('Item available under Organization should be displayed.');
        await HomePageHelper.optionsUnderOrganization();

        StepLogger.stepId(3);
        StepLogger.step('Click "Branches"');
        await HomePage1Helper.clickBranchesUnderOrganization();
        StepLogger.verification('"Manage Branches" page should be displayed.');
        await BranchesHelper.verifyManageBranchesPageDisplayed();
    });

    it('To verify Branch edit window is displayed when clicked on branch icon next to a branch entry - [22442967]', async () => {
        // Auto generated by aurea-automation - util on Fri, 05 Apr 2019 05:20:20 GMT

        StepLogger.caseId = 22442967;
        StepLogger.stepId(1);
        StepLogger.step('Click "Administration" link displayed in the left panel.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Option available under administration section should be displayed.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click "Organization" displayed under administration.');
        await HomePageHelper.clickOrganizationUnderAdministration();
        StepLogger.verification('Item available under Organization should be displayed.');
        await HomePageHelper.optionsUnderOrganization();

        StepLogger.stepId(3);
        StepLogger.step('Click "Branches"');
        await HomePage1Helper.clickBranchesUnderOrganization();
        StepLogger.verification('"Manage Branches" page should be displayed.');
        await BranchesHelper.verifyManageBranchesPageDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Click Branch icon next to an entry to open edit window');
        await BranchesHelper.clickOnEditBranch();
        StepLogger.verification('Edit window is displayed for the branch');
        await BranchesHelper.verifyEditBranchWindowDisplayed();
    });

    it('To verify Branch edit window is displayed when double clicked on a branch entry - [22442968]', async () => {
        // Auto generated by aurea-automation - util on Fri, 05 Apr 2019 05:44:54 GMT

        StepLogger.caseId = 22442968;
        StepLogger.stepId(1);
        StepLogger.step('Click "Administration" link displayed in the left panel.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Option available under administration section should be displayed.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click "Organization" displayed under administration.');
        await HomePageHelper.clickOrganizationUnderAdministration();
        StepLogger.verification('Item available under Organization should be displayed.');
        await HomePageHelper.optionsUnderOrganization();

        StepLogger.stepId(3);
        StepLogger.step('Click "Branches"');
        await HomePage1Helper.clickBranchesUnderOrganization();
        StepLogger.verification('"Manage Branches" page should be displayed.');
        await BranchesHelper.verifyManageBranchesPageDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on the name of branch');
        await BranchesHelper.doubleClickOnBranchEntry();
        StepLogger.verification('Edit window for branch is displayed');
        await BranchesHelper.verifyEditBranchWindowDisplayed();
    });

    it('To verify Close button functionality on Edit Branch window - [22442969]', async () => {
        // Auto generated by aurea-automation - util on Fri, 05 Apr 2019 08:51:06 GMT

        StepLogger.caseId = 22442969;
        StepLogger.stepId(1);
        StepLogger.step('Click "Administration" link displayed in the left panel.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Option available under administration section should be displayed.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click "Organization" displayed under administration.');
        await HomePageHelper.clickOrganizationUnderAdministration();
        StepLogger.verification('Item available under Organization should be displayed.');
        await HomePageHelper.optionsUnderOrganization();

        StepLogger.stepId(3);
        StepLogger.step('Click "Branches"');
        await HomePage1Helper.clickBranchesUnderOrganization();
        StepLogger.verification('"Manage Branches" page should be displayed.');
        await BranchesHelper.verifyManageBranchesPageDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on the name of branch');
        await BranchesHelper.doubleClickOnBranchEntry();
        StepLogger.verification('Edit window for branch is displayed');
        await BranchesHelper.verifyEditBranchWindowDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click Close button in branch edit window');
        await BranchesHelper.clickOnCloseButton();
        StepLogger.verification('Branch edit window is closed');
        await BranchesHelper.verifyNewBranchScreenClosed();
    });

    it('To verify user able to close edit branch window by clicking on close icon on top right corner of branch - [22442976]', async () => {
        // Auto generated by aurea-automation - util on Fri, 05 Apr 2019 11:10:59 GMT

        StepLogger.caseId = 22442976;
        StepLogger.stepId(1);
        StepLogger.step('Click "Administration" link displayed in the left panel.');
        await HomePageHelper.clickAdministrationLink();
        StepLogger.verification('Option available under administration section should be displayed.');
        await HomePageHelper.verifyOptionsUnderAdministration();

        StepLogger.stepId(2);
        StepLogger.step('Click "Organization" displayed under administration.');
        await HomePageHelper.clickOrganizationUnderAdministration();
        StepLogger.verification('Item available under Organization should be displayed.');
        await HomePageHelper.optionsUnderOrganization();

        StepLogger.stepId(3);
        StepLogger.step('Click "Branches"');
        await HomePage1Helper.clickBranchesUnderOrganization();
        StepLogger.verification('"Manage Branches" page should be displayed.');
        await BranchesHelper.verifyManageBranchesPageDisplayed();

        StepLogger.stepId(4);
        StepLogger.step('Double click on the name of branch');
        await BranchesHelper.doubleClickOnBranchEntry();
        StepLogger.verification('Edit window for branch is displayed');
        await BranchesHelper.verifyEditBranchWindowDisplayed();

        StepLogger.stepId(5);
        StepLogger.step('Click Close window icon in top right corner');
        await BranchesHelper.clickOnCloseIcon();
        StepLogger.verification('Branch edit window is closed');
        await BranchesHelper.verifyNewBranchScreenClosed();
    });
});
