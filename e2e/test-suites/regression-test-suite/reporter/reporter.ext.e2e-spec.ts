import { StepLogger } from '../../../../core/logger/step-logger';
import { PageHelper } from '../../../components/html/page-helper';
import { HomePage } from '../../../page-objects/pages/home-page/home-page.po';
import { HomePage1Helper } from '../../../page-objects/pages/home-page/home-page1.helper';
import { LoginPageHelper } from '../../../page-objects/pages/login-page/login-page.helper';
import { ReportWriterReportsPageHelper } from '../../../page-objects/pages/report-writer-reports-page/report-writer-reports-page.helper';
import { SuiteNames } from '../../helpers/suite-names';

describe(SuiteNames.regressionSuite, () => {
    let loginPageHelper: LoginPageHelper;

    beforeAll(async () => {
        loginPageHelper = LoginPageHelper.getInstance();
        await PageHelper.maximiseBrowser();
    });

    beforeEach(async () => {
        await PageHelper.restartBrowser();
        await loginPageHelper.goTo();
    });

    // Jira References - COTRAC-2202
    it('Verify options appearing under Permissions section. - [23008185]', async () => {
        // Auto generated by aurea-automation - extension on Tue, 16 Apr 2019 10: 35: 45 GMT

        StepLogger.caseId = 23008185;
        StepLogger.stepId(1);
        StepLogger.step('Click on the Verify User should be logged in to application');
        await LoginPageHelper.loginAsAdmin();
        StepLogger.verification('User should be logged in to application and user should be on application Home page');
        await HomePage.hamburgerIcon.verifyDisplayedStatus();

        // Step 2-4 have been covered in step 5
        StepLogger.stepId(2);
        StepLogger.step('Verify Reports menu is appearing on the left side of the page.');
        StepLogger.verification('Reports menu should be appearing on the left side of the page.');

        StepLogger.stepId(3);
        StepLogger.step('Click on the Reports menu');
        StepLogger.verification('Reports menu should expand.');

        StepLogger.stepId(4);
        StepLogger.step('Verify Report Writer is appearing under Report menu.');
        StepLogger.verification('Report Writer should be appearing under Report menu.');

        StepLogger.stepId(5);
        StepLogger.step('Click on the Report Writer link.');
        await HomePage1Helper.navigateToReportWriterPage();
        StepLogger.verification('"Report Writer Reports" page should open.');
        await ReportWriterReportsPageHelper.verifyReportWriterReportsPageIsDisplayed();

        StepLogger.stepId(6);
        StepLogger.step('Verify Permissions section is appearing on the left side of the page.');
        StepLogger.verification('Permissions section should be appearing on the left side of the page.');
        await ReportWriterReportsPageHelper.verifyPermissionLink();

        StepLogger.stepId(7);
        StepLogger.step('Verify links appearing under Permissions  section');
        StepLogger.verification('Following  links should be appeari ng under Permissions  section: 1- Groups2- Users');
        await ReportWriterReportsPageHelper.verifyUsersLink();
        await ReportWriterReportsPageHelper.verifyGroupLink();
    });

    // Jira References - COTRAC-2202
    it('Verify options appearing under Import / Export section. - [23008184]', async () => {
        // Auto generated by aurea-automation - extension on Tue, 16 Apr 2019 10: 51: 18 GMT

        StepLogger.caseId = 23008184;
        StepLogger.stepId(1);
        StepLogger.step('Click on the Verify User should be logged in to application');
        await LoginPageHelper.loginAsAdmin();
        StepLogger.verification('User should be logged in to application and user should be on application Home page');
        await HomePage.hamburgerIcon.verifyDisplayedStatus();

        // Step 2-4 have been covered in step 5
        StepLogger.stepId(2);
        StepLogger.step('Verify Reports menu is appearing on the left side of the page.');
        StepLogger.verification('Reports menu should be appearing on the left side of the page.');

        StepLogger.stepId(3);
        StepLogger.step('Click on the Reports menu');
        StepLogger.verification('Reports menu should expand.');

        StepLogger.stepId(4);
        StepLogger.step('Verify Report Writer is appearing under Report menu.');
        StepLogger.verification('Report Writer should be appearing under Report menu.');

        StepLogger.stepId(5);
        StepLogger.step('Click on the Report Writer link.');
        await HomePage1Helper.navigateToReportWriterPage();
        StepLogger.verification('"Report Writer Reports" page should open.');
        await ReportWriterReportsPageHelper.verifyReportWriterReportsPageIsDisplayed();

        StepLogger.stepId(6);
        StepLogger.step('Verify  Import / Export  section is appearing on the left side of the page.');
        StepLogger.verification('Import / Export  section should be appearing on the left side of the page.');
        await ReportWriterReportsPageHelper.verifyImportExportLink();

        StepLogger.stepId(7);
        StepLogger.step('Verify links appearing under Import / Export  section');
        StepLogger.verification(`Following  links should be appearing under Import / Export  section:
        Export
        Import`);
        await ReportWriterReportsPageHelper.verifyImportLink();
        await ReportWriterReportsPageHelper.verifyExportLink();
    });
});
