import { StepLogger } from '../../../../../core/logger/step-logger';
import { PageHelper } from '../../../../components/html/page-helper';
import { HomePageConstant } from '../../../../page-objects/pages/home-page/home-page.constants';
import { HomePageHelper } from '../../../../page-objects/pages/home-page/home-page.helper';
import { LoginPageHelper } from '../../../../page-objects/pages/login-page/login-page.helper';
import { NewProspectPageHelper } from '../../../../page-objects/pages/new-prospect-page/new-prospect-page.helper';
import { NewProspectPage } from '../../../../page-objects/pages/new-prospect-page/new-prospect-page.po';

import { SuiteNames } from '../../../helpers/suite-names';

describe(SuiteNames.regressionSuite, () => {
    let uniqueName = PageHelper.getUniqueId();
    const commercial = HomePageConstant.commercial;
    let loginPageHelper: LoginPageHelper;

    beforeAll(async () => {
        loginPageHelper = LoginPageHelper.getInstance();
        await PageHelper.maximiseBrowser();
    });

    beforeEach(async () => {
        await PageHelper.restartBrowser();
        await loginPageHelper.goTo();
        await LoginPageHelper.loginAsAdmin();
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Identification section - [22984043]', async () => {
        // Auto generated by aurea-automation - util on Mon, 01 Apr 2019 18:29:01 GMT

        StepLogger.caseId = 22984043;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Check the Identification section.');
        StepLogger.verification(`The Identification section should display the fields:
            -Dob
            -Ssn
            -Driver's License
            -Ddl State
            -Ddl Expires`);
        await NewProspectPageHelper.verifyIdentificationSection();
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Primary Contact Information section - [22984041]', async () => {
        // Auto generated by aurea-automation - util on Mon, 01 Apr 2019 18:29:01 GMT

        StepLogger.caseId = 22984041;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Check the Primary Contact Information section.');
        StepLogger.verification(`The Primary Contact Information section should display the fields:
            -First Name
            -Middle Name
            -Last Name
            -Title
            -Home Phone
            -Email 1
            -Work Phone
            -Email 2
            -Mobile
            -Pager
            -Fax
            -Communication Preference
            -Do Not Contact In Marketing Campaigns`);
        await NewProspectPageHelper.verifyNameSection();
        await NewProspectPageHelper.verifyContactSection(false);
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Summary tab in the Relationship screen - [22984048]', async () => {
        // Auto generated by aurea-automation - util on Mon, 01 Apr 2019 18:29:01 GMT

        StepLogger.caseId = 22984048;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Fill the Company, Work Phone mandatory fields and click on Save button.');
        uniqueName = await NewProspectPageHelper.fillCompanyAndPhoneAndSave();
        StepLogger.verification('The new prospect company is saved successfully.');
        await NewProspectPageHelper.verifySavedCompanyNameAndWorkphone(uniqueName);

        StepLogger.stepId(10);
        StepLogger.step('Click on Summary tab button in the Relationship screen.');
        await NewProspectPageHelper.clickRelationShipTab(NewProspectPage.tabs.summary);
        StepLogger.verification('The Summary tab screen is displayed successfully.');
        await NewProspectPage.page.summary.verifyDisplayedStatus();
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Name section - [22984040]', async () => {
        // Auto generated by aurea-automation - util on Mon, 01 Apr 2019 18:29:01 GMT

        StepLogger.caseId = 22984040;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Check the Name section.');
        StepLogger.verification(`The Name section should display the fields:
            -Company`);
        await NewProspectPageHelper.verifyNameSection();
    });

    // Jira References - COTRAC-95
    it('Verify if prospect created header is displaying properly - [22984046]', async () => {
        // Auto generated by aurea-automation - util on Mon, 01 Apr 2019 18:29:01 GMT
        uniqueName = PageHelper.getUniqueId();

        StepLogger.caseId = 22984046;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Fill the Company, Work Phone mandatory fields and click on Save button.');
        uniqueName = await NewProspectPageHelper.fillCompanyAndPhoneAndSave();
        StepLogger.verification('The new prospect company is saved successfully.');
        await NewProspectPageHelper.verifySavedCompanyNameAndWorkphone(uniqueName);

        StepLogger.stepId(10);
        StepLogger.step('Check the Header screen.');
        StepLogger.verification(`The components is displayed:
            -Three dots button
            -Admin menu button
            -Recommendations count tip
            -Prospect Title
            -Print Button
            -Save button
            -Close button
            -Prospect Name
            -Prospect Work Phone`);
        await NewProspectPageHelper.verifyProspectHeaderSection(true);
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Relationship tab - [22984047]', async () => {
        // Auto generated by aurea-automation - util on Mon, 01 Apr 2019 18:29:01 GMT
        uniqueName = PageHelper.getUniqueId();

        StepLogger.caseId = 22984047;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Fill the Company, Work Phone mandatory fields and click on Save button.');
        uniqueName = await NewProspectPageHelper.fillCompanyAndPhoneAndSave();
        StepLogger.verification('The new prospect company is saved successfully.');
        await NewProspectPageHelper.verifySavedCompanyNameAndWorkphone(uniqueName);

        StepLogger.stepId(10);
        StepLogger.step('Click on Relationship tab button.');
        await NewProspectPageHelper.clickRelationShip();
        StepLogger.verification('The Relationship tab screen is displayed successfully.');
        await NewProspectPageHelper.verifyRelationShipPage();
    });
});
