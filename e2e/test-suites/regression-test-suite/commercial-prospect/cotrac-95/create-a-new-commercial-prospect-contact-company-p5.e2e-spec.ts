import { StepLogger } from '../../../../../core/logger/step-logger';
import { PageHelper } from '../../../../components/html/page-helper';
import { HomePageOneHelper } from '../../../../page-objects/pages/home-page/home-page-one.helper';
import { HomePageConstant } from '../../../../page-objects/pages/home-page/home-page.constants';
import { HomePageHelper } from '../../../../page-objects/pages/home-page/home-page.helper';
import { LoginPageHelper } from '../../../../page-objects/pages/login-page/login-page.helper';
import { NewProspectPageHelper } from '../../../../page-objects/pages/new-prospect-page/new-prospect-page.helper';
import { NewProspectPage } from '../../../../page-objects/pages/new-prospect-page/new-prospect-page.po';

import { SuiteNames } from '../../../helpers/suite-names';

describe(SuiteNames.regressionSuite, () => {
    let uniqueName = PageHelper.getUniqueId();
    const commercial = HomePageConstant.commercial;
    let loginPageHelper: LoginPageHelper;

    beforeAll(async () => {
        loginPageHelper = LoginPageHelper.getInstance();
        await PageHelper.maximiseBrowser();
    });

    beforeEach(async () => {
        await PageHelper.restartBrowser();
        await loginPageHelper.goTo();
        await LoginPageHelper.loginAsAdmin();
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Notes tab - [22984059]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 13:16:51 GMT

        StepLogger.caseId = 22984059;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Fill the Company, Work Phone mandatory fields and click on Save button.');
        uniqueName = await NewProspectPageHelper.fillCompanyAndPhoneAndSave();
        StepLogger.verification('The new prospect company is saved successfully.');
        await NewProspectPageHelper.verifySavedCompanyNameAndWorkphone(uniqueName);

        StepLogger.stepId(10);
        StepLogger.step('Click on Notes tab button.');
        await NewProspectPageHelper.clickNotesTab();
        StepLogger.verification('The Notes screen is displayed successfully.');
        await NewProspectPage.page.notes.verifyDisplayedStatus();
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Cases tab - [22984058]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 13:16:52 GMT

        StepLogger.caseId = 22984058;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Fill the Company, Work Phone mandatory fields and click on Save button.');
        uniqueName = await NewProspectPageHelper.fillCompanyAndPhoneAndSave();
        StepLogger.verification('The new prospect company is saved successfully.');
        await NewProspectPageHelper.verifySavedCompanyNameAndWorkphone(uniqueName);

        StepLogger.stepId(10);
        StepLogger.step('Click on Cases tab button.');
        await NewProspectPageHelper.clickCasesTab();
        StepLogger.verification('The Cases screen is displayed successfully.');
        await NewProspectPage.page.cases.verifyDisplayedStatus();
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Tasks tab - [22984061]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 13:16:52 GMT

        StepLogger.caseId = 22984061;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Fill the Company, Work Phone mandatory fields and click on Save button.');
        uniqueName = await NewProspectPageHelper.fillCompanyAndPhoneAndSave();
        StepLogger.verification('The new prospect company is saved successfully.');
        await NewProspectPageHelper.verifySavedCompanyNameAndWorkphone(uniqueName);

        StepLogger.stepId(10);
        StepLogger.step('Click on Tasks tab button.');
        await NewProspectPageHelper.clickTasksTab();
        StepLogger.verification('The Tasks screen is displayed successfully.');
        await NewProspectPage.page.tasks.verifyDisplayedStatus();
    });

    // Jira References - COTRAC-95
    it('Verify if user can see the Continue With New Prospect button on the Check Existing Contact modal - [22984026]', async () => {
        // Auto generated by aurea-automation - util on Fri, 29 Mar 2019 21:54:13 GMT

        StepLogger.caseId = 22984026;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Check the Continue With New Prospect button.');
        StepLogger.verification('The Continue With New Prospect button is displayed disabled by default successfully.');
        await HomePageOneHelper.verifyContinueWithNewProspect();
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Events tab - [22984060]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 13:16:52 GMT

        StepLogger.caseId = 22984060;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Fill the Company, Work Phone mandatory fields and click on Save button.');
        uniqueName = await NewProspectPageHelper.fillCompanyAndPhoneAndSave();
        StepLogger.verification('The new prospect company is saved successfully.');
        await NewProspectPageHelper.verifySavedCompanyNameAndWorkphone(uniqueName);

        StepLogger.stepId(10);
        StepLogger.step('Click on Events tab button.');
        await NewProspectPageHelper.clickEventsTab();
        StepLogger.verification('The Events screen is displayed successfully.');
        await NewProspectPage.page.events.verifyDisplayedStatus();
    });

    // Jira References - COTRAC-95
    it('Verify if user shall be able to see the Attachments tab - [22984062]', async () => {
        // Auto generated by aurea-automation - util on Wed, 03 Apr 2019 13:16:54 GMT

        StepLogger.caseId = 22984062;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Fill the Company input field.');
        await HomePageHelper.enterCompanyOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Company input field is filled successfully.');
        await HomePageHelper.verifyCompanyIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(4);
        StepLogger.step('Fill the First input field with a nonexistent company name.');
        await HomePageHelper.enterFirstNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The First Name input field is filled successfully.');
        await HomePageHelper.verifyFirstNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(5);
        StepLogger.step('Fill the Last input field.');
        await HomePageHelper.enterLastNameOnCheckExistingContactModal(uniqueName);
        StepLogger.verification('The Last Name input field is filled successfully.');
        await HomePageHelper.verifyLastNameIsEnteredOnCheckExistingContactModal(uniqueName);

        StepLogger.stepId(6);
        StepLogger.step('Select Commercial option in the Return dropdown list.');
        await HomePageHelper.selectReturnOptionOnCheckExistingContactModal(commercial);
        StepLogger.verification('The Commercial option is displayed in the dropdown field.');
        await HomePageHelper.verifyReturnOptionIsSelectedOnCheckExistingContactModal(commercial);

        StepLogger.stepId(7);
        StepLogger.step('Click on Search Contacts button.');
        await HomePageHelper.clickSearchContactsOnCheckExistingContactModal();
        StepLogger.verification('The Continue With New Prospect button is enabled.');
        await HomePageHelper.verifyContinueWithNewProspectIsEnabled();

        StepLogger.stepId(8);
        StepLogger.step('Click on Continue With New Prospect button.');
        await HomePageHelper.clickContinueWithNewProspectButton();
        StepLogger.verification('The New Prospect screen is displayed successfully.');
        await NewProspectPageHelper.verifyNewProspectCommercialPageIsDisplayed(false);

        StepLogger.stepId(9);
        StepLogger.step('Fill the Company, Work Phone mandatory fields and click on Save button.');
        uniqueName = await NewProspectPageHelper.fillCompanyAndPhoneAndSave();
        StepLogger.verification('The new prospect company is saved successfully.');
        await NewProspectPageHelper.verifySavedCompanyNameAndWorkphone(uniqueName);

        StepLogger.stepId(10);
        StepLogger.step('Click on Attachments tab button.');
        await NewProspectPageHelper.clickAttachmentTab();
        StepLogger.verification('The Attachments screen is displayed successfully.');
        await NewProspectPage.page.attachments.verifyDisplayedStatus();
    });

    // Jira References - COTRAC-95
    it('Verify if user can see the Continue With New Prospect button on the Check Existing Contact modal - [22984026]', async () => {
        // Auto generated by aurea-automation - util on Fri, 29 Mar 2019 21:54:13 GMT

        StepLogger.caseId = 22984026;
        StepLogger.stepId(1);
        StepLogger.step('Click on New menu button.');
        await HomePageHelper.clickNewLink();
        StepLogger.verification('The New menu list is displayed successfully.');
        await HomePageHelper.verifyOptionsUnderNew();

        StepLogger.stepId(2);
        StepLogger.step('Click on Commercial Prospect menu button.');
        await HomePageHelper.clickCommercialProspectUnderNew();
        StepLogger.verification('The "Check Existing Contact" modal screen is displayed successfully.');
        await HomePageHelper.verifyCheckExistingContactDisplayed();

        StepLogger.stepId(3);
        StepLogger.step('Check the Continue With New Prospect button.');
        StepLogger.verification('The Continue With New Prospect button is displayed disabled by default successfully.');
        await HomePageOneHelper.verifyContinueWithNewProspect();
    });
});
